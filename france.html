<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>France - World Dining Etiquette</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat+Brush&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- 로딩 화면 -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p class="loading-text">테이블 세팅하는 중..</p>
        </div>
    </div>

    <!-- 상단 헤더 -->
    <header class="top-header">
        <div class="header-content">
            <button id="back-to-map-france" class="btn-secondary back-to-map-btn">지도 돌아가기</button>
            <div class="header-square">
                <h1 class="header-title">France</h1>
            </div>
            <button id="reset-stage-btn" class="btn-secondary reset-btn">다시하기</button>
        </div>
    </header>

    <!-- 프랑스 스테이지 -->
    <div id="france-stage" class="screen active">
        <div class="stage-container">
            <div class="stage-content">
                <!-- 말풍선 -->
                <div id="speech-bubble-france" class="speech-bubble">
                    <div class="speech-bubble-content">
                        <p id="speech-text-france"></p>
                    </div>
                    <div class="speech-bubble-tail"></div>
                    <div id="next-buttons-container-france" class="next-buttons-container" style="display: none;"></div>
                    <button id="next-speech-btn-france" class="next-btn" style="display: none;">다음</button>
                </div>

                <!-- 게임 플레이 컨테이너 -->
                <div class="france-game-container">
                    <!-- 드롭 존 영역 -->
                    <div class="drop-zone-area">
                        <div class="table-setting">
                            <!-- 프랑스 무릎 -->
                            <div class="france-knee">
                                <img src="resource/fr/fr_knee.png" alt="프랑스 무릎">
                            </div>
                            
                            <!-- 프랑스 테이블 이미지 -->
                            <div class="france-table-image">
                                <img src="resource/fr/fr_table.png" alt="프랑스 테이블">
                            </div>
                            
                            <!-- 프랑스 테이블 매트 -->
                            <div class="france-tablemat">
                                <img src="resource/fr/fr_tablemat.png" alt="프랑스 테이블 매트">
                            </div>
                            
                            <!-- 프랑스 접시 1 (인벤토리에서 배치) -->
                            <div class="france-dish1" style="display: none;">
                                <img src="resource/fr/fr_dish1.png" alt="프랑스 접시 1">
                            </div>
                            
                            <!-- 프랑스 냅킨 -->
                            <div class="france-napkin" id="france-napkin-draggable" draggable="true" data-item="napkin">
                                <img src="resource/fr/fr_napkin.png" alt="프랑스 냅킨">
                            </div>
                            
                            <!-- 프랑스 접시 2 -->
                            <div class="france-dish2">
                                <img src="resource/fr/fr_dish2.png" alt="프랑스 접시 2">
                            </div>
                            
                            <!-- 프랑스 디저트 포크 -->
                            <div class="france-desertfork">
                                <img src="resource/fr/fr_desrtfork.png" alt="프랑스 디저트 포크">
                            </div>
                            
                            <!-- 프랑스 디저트 숟가락 -->
                            <div class="france-desertspoon">
                                <img src="resource/fr/fr_desrtspoon.png" alt="프랑스 디저트 숟가락">
                            </div>
                            
                            <!-- 프랑스 손 -->
                            <div class="france-hand">
                                <img src="resource/fr/fr_hand.png" alt="프랑스 손">
                            </div>
                            
                            <!-- 프랑스 빵 -->
                            <div class="france-bread">
                                <img src="resource/fr/fr_bread.png" alt="프랑스 빵">
                            </div>
                            
                            <!-- 프랑스 라운드 빵 -->
                            <div class="france-rbread" id="france-rbread-draggable" draggable="true" data-item="rbread">
                                <img src="resource/fr/fr_rbread.png" alt="프랑스 라운드 빵">
                            </div>
                            
                            <!-- 프랑스 메인 디시 1 -->
                            <div class="france-maindish1">
                                <img src="resource/fr/fr_maindish1.png" alt="프랑스 메인 디시 1">
                            </div>
                            
                            <!-- 프랑스 와인잔 -->
                            <div class="france-wineglass">
                                <img src="resource/fr/fr_wineglass.png" alt="프랑스 와인잔">
                            </div>
                            
                            <!-- 프랑스 물잔 -->
                            <div class="france-waterglass">
                                <img src="resource/fr/fr_waterglass.png" alt="프랑스 물잔">
                            </div>
                            
                            <!-- 프랑스 나이프 2 -->
                            <div class="france-knife2">
                                <img src="resource/fr/fr_knife2.png" alt="프랑스 나이프 2">
                            </div>
                            
                            <!-- 프랑스 나이프 1 -->
                            <div class="france-knife1">
                                <img src="resource/fr/fr_knife1.png" alt="프랑스 나이프 1">
                            </div>
                            
                            <!-- 프랑스 숟가락 -->
                            <div class="france-spoon">
                                <img src="resource/fr/fr_spoon.png" alt="프랑스 숟가락">
                            </div>
                            
                            <!-- 프랑스 포크 2 -->
                            <div class="france-fork2">
                                <img src="resource/fr/fr_fork2.png" alt="프랑스 포크 2">
                            </div>
                            
                            <!-- 프랑스 포크 1 -->
                            <div class="france-fork1">
                                <img src="resource/fr/fr_fork1.png" alt="프랑스 포크 1">
                            </div>
                            
                            <!-- 프랑스 포크 0 -->
                            <div class="france-fork0">
                                <img src="resource/fr/fr_fork0.png" alt="프랑스 포크 0">
                            </div>
                            
                            <!-- 와인잔 드랍존 -->
                            <div id="drop-wineglass" class="drop-zone" data-zone="wineglass"></div>
                            
                            <!-- 냅킨 드랍존 -->
                            <div id="drop-napkin" class="drop-zone" data-zone="napkin"></div>
                            
                            <!-- 라운드 빵 드랍존 -->
                            <div id="drop-rbread" class="drop-zone" data-zone="rbread" style="display: none;">
                                <span class="drop-zone-text">놓기</span>
                            </div>
                            
                            <!-- 접시 2 드랍존 (원형) -->
                            <div id="drop-dish2" class="drop-zone drop-zone-circle" data-zone="dish2" style="display: none;">
                                <span class="drop-zone-text">놓기</span>
                            </div>
                            
                            <!-- 빵 위 식기 드랍존 -->
                            <div id="drop-rbread-utensils" class="drop-zone" data-zone="rbread-utensils" style="display: none;">
                                <span class="drop-zone-text">놓기</span>
                            </div>
                            
                            <!-- 접시 1 드랍존 -->
                            <div id="drop-dish1" class="drop-zone" data-zone="dish1"></div>
                        </div>
                    </div>
                </div>
                <!-- 게임 플레이 컨테이너 끝 -->

                <!-- 정보 메뉴들 -->
                <!-- 정보 메뉴는 필요에 따라 추가 -->
            </div>
        </div>
    </div>

    <!-- 인벤토리 메뉴 -->
    <div class="slot-menu" id="slot-menu-france">
        <div class="slot-menu-tab"></div>
        <div class="menu-header">
            <div class="menu-icon">☰</div>
            <h3>INVENTORY</h3>
        </div>
        <div class="slot-items">
            <div class="slot-item" data-item="wineglass" data-image="resource/fr/fr_wineglass.png">
                <div class="item-icon" style="background-image: url('resource/fr/fr_wineglass.png');"></div>
                <span>와인잔</span>
            </div>
            <div class="slot-item" data-item="dish1" data-image="resource/fr/fr_dish1.png">
                <div class="item-icon" style="background-image: url('resource/fr/fr_dish1.png');"></div>
                <span>접시 1</span>
            </div>
        </div>
    </div>

    <!-- 디버그 모드 토글 버튼 -->
    <button id="debug-toggle-btn" class="debug-toggle-btn">🔧</button>
    
    <!-- 빵 먹기 예절 정보 메뉴 -->
    <div id="bread-etiquette-info-menu-france" class="info-menu">
        <div class="info-menu-tab"></div>
        <div class="menu-header">
            <div class="menu-icon">☰</div>
            <h3>INFO</h3>
            <button class="info-menu-close" onclick="closeBreadEtiquetteInfoMenuFrance()">×</button>
        </div>
        <div class="info-menu-scroll-content">
            <h3>빵을 먹을 때 예절</h3>
            <div class="info-menu-image">
            </div>
            <div class="info-menu-content">
                <p>프랑스에서는 빵을 먹을 때 손을 사용하는 것이 올바른 예절입니다.</p>
                <p>포크나 나이프를 사용하여 빵을 먹는 것은 적절하지 않습니다.</p>
                <p>빵은 작은 조각으로 떼어서 손으로 집어 먹는 것이 전통적인 방식입니다.</p>
            </div>
        </div>
    </div>

    <!-- 빵 배치 예절 정보 메뉴 -->
    <div id="bread-placement-info-menu-france" class="info-menu">
        <div class="info-menu-tab"></div>
        <div class="menu-header">
            <div class="menu-icon">☰</div>
            <h3>INFO</h3>
            <button class="info-menu-close" onclick="closeBreadPlacementInfoMenuFrance()">×</button>
        </div>
        <div class="info-menu-scroll-content">
            <h3>빵 배치 예절</h3>
            <div class="info-menu-image">
            </div>
            <div class="info-menu-content">
                <p>프랑스 식사 예절에서 빵은 접시 위가 아닌 테이블보 위에 직접 놓아야 합니다.</p>
                <p>테이블의 왼쪽 상단에 배치하는 것이 전통적인 방식입니다.</p>
                <p>위생은 신경쓰지 마세요!</p>
            </div>
        </div>
    </div>

    <!-- 나이프 사용 예절 정보 메뉴 -->
    <div id="knife-etiquette-info-menu-france" class="info-menu">
        <div class="info-menu-tab"></div>
        <div class="menu-header">
            <div class="menu-icon">☰</div>
            <h3>INFO</h3>
            <button class="info-menu-close" onclick="closeKnifeEtiquetteInfoMenuFrance()">×</button>
        </div>
        <div class="info-menu-scroll-content">
            <h3>나이프 사용 예절</h3>
            <div class="info-menu-image">
            </div>
            <div class="info-menu-content">
                <p>고기를 자를 때는 육류 전용 나이프를 사용해야 합니다.</p>
                <p>접시에서 가장 가까운 위치에 있는 나이프가 육류 전용 나이프입니다.</p>
                <p>식기는 기본적으로 맨 바깥쪽에서부터 안쪽의 순서로 사용한다는 것을 기억하세요.</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // 로딩 화면 제어
        window.addEventListener('load', () => {
            const loadingScreen = document.getElementById('loading-screen');
            const speechBubble = document.getElementById('speech-bubble-france');
            const nextBtn = document.getElementById('next-speech-btn-france');
            const nextButtonsContainer = document.getElementById('next-buttons-container-france');
            
            // 로딩 중에는 말풍선 버튼 비활성화
            if (speechBubble) {
                speechBubble.style.pointerEvents = 'none';
            }
            if (nextBtn) {
                nextBtn.style.pointerEvents = 'none';
            }
            if (nextButtonsContainer) {
                nextButtonsContainer.style.pointerEvents = 'none';
            }
            
            if (loadingScreen) {
                // 최소 500ms 표시 후 페이드 아웃
                setTimeout(() => {
                    loadingScreen.classList.add('hide');
                    setTimeout(() => {
                        loadingScreen.style.display = 'none';
                        // 로딩 완료 후 말풍선 버튼 활성화
                        if (speechBubble) {
                            speechBubble.style.pointerEvents = 'auto';
                        }
                        if (nextBtn) {
                            nextBtn.style.pointerEvents = 'auto';
                        }
                        if (nextButtonsContainer) {
                            nextButtonsContainer.style.pointerEvents = 'auto';
                        }
                    }, 500);
                }, 500);
            }
        });
    </script>
</body>

</html>